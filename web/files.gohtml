{{- define "files" -}}
  {{- $root := . -}}
  <header class="header">
    <h1 class="title">Directory
      <a href="/">root</a>
      {{- range $index, $path := .PathParts -}}
         / <a href="/{{- rebuildPaths $root.PathParts $index -}}/">{{- $path -}}</a>
      {{- end -}}
    </h1>
  </header>
  <ul class="files">
    {{- range .Files -}}
      <li class="file">
        {{- if .IsDir -}}
          <img class="icon" src="{{ $root.Config.StaticURL }}/folder.svg?v={{ $root.Config.Version }}" alt="folder" />
        {{- else -}}
          <img class="icon" src="{{ $root.Config.StaticURL }}/file{{ typeFromExtension . }}.svg?v={{ $root.Config.Version }}" alt="file" />
        {{- end -}}
        <a href="{{ filename . }}">{{ filename . }}</a>
      </li>
    {{- end -}}
  </ul>
{{- end -}}
